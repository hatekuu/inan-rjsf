{"version":3,"file":"static/js/243.124da6f2.chunk.js","mappings":"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","sources":["components/Modal.js","components/ArrayFieldTemplate.js","routers/cart.js"],"sourcesContent":["import React from 'react';\r\nimport './Modal.css'; // Style file for the modal\r\n\r\nconst Modal = ({ isOpen, onClose, message,array}) => {\r\n\r\n  if (!isOpen) return null;\r\n if(array===1)return(\r\n    <div className=\"modal-overlay\" onClick={onClose}>\r\n    <div className=\"modal-content\" onClick={e => e.stopPropagation()}>\r\n      <div className=\"close-wrapper\">\r\n        <button className=\"close-button\" onClick={onClose}>X</button>\r\n      </div>\r\n      {message?.map((message,index)=>(\r\n        <div key={index}>\r\n            {message}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  </div>)\r\n return(\r\n  <div className=\"modal-overlay\" onClick={onClose}>\r\n  <div className=\"modal-content\" onClick={e => e.stopPropagation()}>\r\n    <div className=\"close-wrapper\">\r\n      <button className=\"close-button\" onClick={onClose}>X</button>\r\n    </div>\r\n\r\n  <p>{message}</p>\r\n          \r\n    \r\n\r\n  </div>\r\n</div>\r\n )\r\n}\r\n\r\nexport default Modal;\r\n","import React, { useState } from 'react';\r\nimport * as Realm from 'realm-web';\r\nimport Modal from './Modal';\r\nconst ArrayFieldTemplate = (props) => {\r\n  const app = new Realm.App({ id: process.env.REACT_APP_KEY });\r\n\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [search, setSearch] = useState('');\r\n  const [suggestions, setSuggestions] = useState([]);\r\n  const [showSuggestions, setShowSuggestions] = useState(false);\r\n  const [isOpen, setIsOpen] = useState(false);\r\nconst [message,setMessage]= useState([])\r\n\r\n  const handleRemoveItem = (index) => () => {\r\n\r\n    props.items[index].onDropIndexClick(index)();\r\n    props.handleRemove()\r\n  };\r\n\r\n  const handleAdd = async () => {\r\n    const FunctionName = 'AddToCart';\r\n    const args=[search,app?.currentUser?.id]\r\n    if (search !== \"\") {\r\n    try {\r\n      \r\n     const result=  await app?.currentUser?.callFunction(FunctionName,...args);\r\n       setIsOpen(true)\r\n       setMessage(result?.message)\r\n    \r\n     setShowModal(false);\r\n     setSearch('')\r\n    \r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n    }\r\n  };\r\n\r\n  const handleChange = async (e) => {\r\n\r\n    const FunctionName = 'autoComplete';\r\n    setSearch(e.target.value);\r\n    if (e.target.value !== \"\") {\r\n      const result = await app?.currentUser?.callFunction(FunctionName, e.target.value);\r\n      setSuggestions(result);\r\n      setShowSuggestions(true);\r\n    } else {\r\n      setSuggestions([]);\r\n      setShowSuggestions(false);\r\n    }\r\n  };\r\n\r\n  const handleSuggestionClick = async (name) => {\r\n\r\n    setShowSuggestions(false)\r\n    setSearch(name)\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setIsOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        {props.items.map((element, index) => (\r\n          <div key={index}>\r\n            <div className=\"flex-grow\">{element.children}</div>\r\n            <button\r\n              type=\"button\"\r\n              className=\"ml-2 px-2 py-1 bg-red-500 text-white rounded\"\r\n              onClick={handleRemoveItem(index)}\r\n            >\r\n              Xóa sản phẩm\r\n            </button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      {props.canAdd && (\r\n        <button\r\n          type=\"button\"\r\n          className=\"mt-4 px-4 py-2 bg-blue-500 text-white rounded\"\r\n          onClick={() => setShowModal(true)}\r\n        >\r\n          Thêm sản phẩm\r\n        </button>\r\n      )}\r\n      {showModal && (\r\n        <div className=\"fixed top-0 left-0 w-full h-full flex items-center justify-center bg-gray-800 bg-opacity-75\">\r\n          <div className=\"bg-white p-4 border rounded shadow-lg\">\r\n            <div className=\"mb-4\">\r\n              <label className=\"block text-gray-700 text-sm font-bold mb-2\">\r\n                Search:\r\n              </label>\r\n              <input\r\n                className=\"w-full px-3 py-2 border rounded border-gray-300 focus:outline-none focus:border-indigo-500\"\r\n                type=\"text\"\r\n                value={search}\r\n                onChange={handleChange}\r\n              />\r\n              {showSuggestions && suggestions?.length > 0 && (\r\n                <div className=\"absolute bg-white border rounded shadow-lg mt-1 w-auto\">\r\n                  <ul>\r\n                    {suggestions?.map((suggestion, index) => (\r\n                      <li key={index} className=\" px-4 py-2 hover:bg-gray-100 cursor-pointer\" onClick={() => handleSuggestionClick(suggestion?.productName)}>\r\n                        {suggestion?.productName}\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <button className=\"mt-4 px-4 py-2 bg-blue-500 text-white rounded\" onClick={() => { props.handleClick(); handleAdd(); }}>Thêm</button>\r\n            <button className=\"mt-4 px-4 py-2 bg-blue-500 text-white rounded\" onClick={() => setShowModal(false)}>Đóng</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n<Modal isOpen={isOpen} onClose={closeModal} message={message} array={0} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ArrayFieldTemplate;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Form from \"@rjsf/core\";\r\nimport './Myform.css'; // Import file CSS\r\nimport  validator from '@rjsf/validator-ajv8';\r\nimport * as Realm from 'realm-web';\r\nimport ArrayFieldTemplate from '../components/ArrayFieldTemplate';\r\nimport Modal from '../components/Modal';\r\n\r\nconst MyForm = () => {\r\n \r\n    const app = new Realm.App({ id: process.env.REACT_APP_KEY });\r\n    const [products, setProducts] = useState([]);\r\n    const [leng, setLeng] = useState('');\r\n    const [jsonSchema, setjsonSchema] = useState([]);\r\n    const [uiSchema, setuiSchema] = useState([]);\r\n    const [price, setPrice]= useState([])\r\n  const [jsonSchema2 ,setjsonSchema2] = useState([]);\r\n  const [uiSchema2, setuiSchema2] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [isOpen2, setIsOpen2] = useState(false);\r\n const [message2,setMessage2]=useState([])\r\nconst [val,setVal]=useState(null)\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n   \r\n    fetchData();\r\n   \r\n  }, [leng]);\r\n  \r\n  const fetchData = async () => {\r\n    try {\r\n      if(!app?.currentUser?.accessToken){\r\n        navigate('/inan-rjsf/login');}\r\n        else{\r\n      await app?.currentUser?.refreshAccessToken();\r\n   \r\n       const functionName = \"form\";\r\n      const findCart = await app?.currentUser?.callFunction(functionName);\r\n      \r\n      setLeng(findCart[0]?.public?.input?.jsonData?.products?.length)\r\n      setProducts(findCart[0]?.public?.input?.jsonData)\r\n  setjsonSchema(findCart[0]?.public?.input?.jsonSchema)\r\n  setuiSchema(findCart[0]?.public?.input?.uiSchema)\r\n setjsonSchema2(findCart[0]?.public?.output?.jsonSchema)\r\n setuiSchema2(findCart[0]?.public?.output?.uiSchema)\r\nsetPrice(findCart[0]?.public?.output?.jsonData)\r\nsetLoading(false);}\r\n    } catch (error) {\r\n      console.error('Error fetching products:', error);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const onSubmit = async ({ formData }) => {\r\n    const functionName = \"updateCart\";\r\n    const args = [app?.currentUser?.id, formData?.products];\r\n    try {\r\n     const result= await app.currentUser?.callFunction(functionName, ...args);\r\n     if(result?.message){\r\n      setIsOpen2(true);\r\n      setMessage2(result?.message)\r\n      setVal(1)\r\n     }\r\n     fetchData();\r\n      \r\n    } catch (error) {\r\n      const errorMessage = error.error;\r\n      setIsOpen2(true);\r\n setMessage2(errorMessage)\r\n \r\n     \r\n    }\r\n  };\r\n  const onChange = async ({ formData }) => {\r\n\r\n        \r\n       const functionName = \"updateCart\";\r\n       try {\r\n         const args = [app?.currentUser?.id, formData?.products];\r\n          await app?.currentUser?.callFunction(functionName, ...args);\r\n     \r\n       } catch (error) {\r\n         console.log(error);\r\n         \r\n       }\r\n     \r\n  };\r\n  \r\n\r\n  const handleClick = async () => {\r\n    console.log(\"add\")\r\n   fetchData()\r\n  \r\n  }\r\n  const handleRemove = async () => {\r\n    console.log(\"remove\")\r\n    fetchData()\r\n  };\r\n  const onSubmit2 = async () => {\r\n    const user = await app.currentUser.refreshCustomData();\r\n    const functionName = \"ToTempCart\";\r\n    const args = [app?.currentUser?.customData, user?.cart];\r\n    \r\n    try {\r\n      const result=await app?.currentUser?.callFunction(functionName, ...args);\r\n      setIsOpen2(true);\r\n      setMessage2(result?.message)\r\n      setVal(0)\r\n  \r\n      fetchData();\r\n    } catch (error) {\r\n \r\n      alert(error.error);\r\n      setMessage2(error.error)\r\n      setIsOpen2(true)\r\n    }\r\n  };\r\n\r\n\r\n\r\n  const closeModal = () => {\r\n    setIsOpen2(false);\r\n  };\r\n  return (\r\n    <>\r\n    {loading ? (\r\n      <div className=\"flex items-center justify-center h-screen\">\r\n        <div className=\"text-gray-600 text-lg\">Loading...</div>\r\n      </div>\r\n    ) : (\r\n      <>\r\n        <div className=\"flex justify-center\">\r\n          <Form\r\n            className=\"w-full max-w-md p-8 bg-white rounded-lg shadow-lg\"\r\n            formData={products}\r\n            validator={validator}\r\n            schema={jsonSchema}\r\n            uiSchema={uiSchema}\r\n            onSubmit={onSubmit}\r\n            onChange={onChange}\r\n            templates={{\r\n              ArrayFieldTemplate: (props) => (\r\n                <ArrayFieldTemplate\r\n                  {...props}\r\n                  handleClick={handleClick}\r\n                  onReorderClick={(oldIndex, newIndex) => console.log('Reordering item:', oldIndex, newIndex)}\r\n                  handleRemove={handleRemove}\r\n                />\r\n              ),\r\n            }}\r\n          />\r\n        \r\n        </div>\r\n  \r\n        {price?.totalValue !== 0 && (\r\n          <div className=\"flex justify-center mt-8\">\r\n            <Form\r\n              className=\"w-full max-w-md p-8 bg-white rounded-lg shadow-lg\"\r\n              validator={validator}\r\n              schema={jsonSchema2}\r\n              uiSchema={uiSchema2}\r\n              formData={price}\r\n              onSubmit={onSubmit2}\r\n            />\r\n          </div>\r\n        )}\r\n      </>\r\n    )}\r\n     <div>\r\n     \r\n     <Modal isOpen={isOpen2} onClose={closeModal} message={message2} array={val} />\r\n      \r\n\r\n    </div>\r\n  </>\r\n  \r\n  );\r\n      };  \r\n\r\n\r\nexport default MyForm;\r\n"],"names":["_ref","isOpen","onClose","message","array","_jsx","className","onClick","children","_jsxs","e","stopPropagation","map","index","props","app","Realm","id","process","showModal","setShowModal","useState","search","setSearch","suggestions","setSuggestions","showSuggestions","setShowSuggestions","setIsOpen","setMessage","handleRemoveItem","items","onDropIndexClick","handleRemove","element","type","canAdd","value","onChange","async","target","_app$currentUser3","result","currentUser","callFunction","length","suggestion","name","handleSuggestionClick","productName","handleClick","_app$currentUser","args","_app$currentUser2","error","console","log","handleAdd","Modal","closeModal","MyForm","products","setProducts","leng","setLeng","jsonSchema","setjsonSchema","uiSchema","setuiSchema","price","setPrice","jsonSchema2","setjsonSchema2","uiSchema2","setuiSchema2","loading","setLoading","isOpen2","setIsOpen2","message2","setMessage2","val","setVal","navigate","useNavigate","useEffect","fetchData","accessToken","_findCart$","_findCart$$public","_findCart$$public$inp","_findCart$$public$inp2","_findCart$$public$inp3","_findCart$2","_findCart$2$public","_findCart$2$public$in","_findCart$3","_findCart$3$public","_findCart$3$public$in","_findCart$4","_findCart$4$public","_findCart$4$public$in","_findCart$5","_findCart$5$public","_findCart$5$public$ou","_findCart$6","_findCart$6$public","_findCart$6$public$ou","_findCart$7","_findCart$7$public","_findCart$7$public$ou","refreshAccessToken","functionName","findCart","public","input","jsonData","output","_Fragment","Form","formData","validator","schema","onSubmit","_app$currentUser4","_app$currentUser5","errorMessage","_ref2","_app$currentUser6","_app$currentUser7","templates","ArrayFieldTemplate","onReorderClick","oldIndex","newIndex","totalValue","_app$currentUser8","user","refreshCustomData","customData","cart","_app$currentUser9","alert"],"sourceRoot":""}