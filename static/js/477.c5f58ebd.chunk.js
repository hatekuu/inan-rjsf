"use strict";(self.webpackChunkproducts=self.webpackChunkproducts||[]).push([[477],{7477:(t,r,a)=>{a.r(r),a.d(r,{default:()=>l});var e=a(5043),o=a(6244),c=a(443),n=a(3402),u=a(579);const l=()=>{const t=new n.qw({id:"inan-rjsf-dongdocreate-mrlmk"}),[r,a]=(0,e.useState)([]),[l,s]=(0,e.useState)([]),[i,d]=(0,e.useState)([]),[v,p]=(0,e.useState)([]),[m,h]=(0,e.useState)([]),[f,S]=(0,e.useState)([]),[y,U]=(0,e.useState)(!0);(0,e.useEffect)((()=>{j()}),[]);const j=async()=>{try{var r,e,o,c,n,u,l,i,v,m,f,y,j,b,C,w,g,D;const A="form",F=await t.currentUser.callFunction(A,t.currentUser.id);a(null===(r=F[0])||void 0===r||null===(e=r.public)||void 0===e||null===(o=e.input)||void 0===o?void 0:o.jsonData),s(null===(c=F[0])||void 0===c||null===(n=c.public)||void 0===n||null===(u=n.input)||void 0===u?void 0:u.jsonSchema),d(null===(l=F[0])||void 0===l||null===(i=l.public)||void 0===i||null===(v=i.input)||void 0===v?void 0:v.uiSchema),h(null===(m=F[0])||void 0===m||null===(f=m.public)||void 0===f||null===(y=f.output)||void 0===y?void 0:y.jsonSchema),S(null===(j=F[0])||void 0===j||null===(b=j.public)||void 0===b||null===(C=b.output)||void 0===C?void 0:C.uiSchema),p(null===(w=F[0])||void 0===w||null===(g=w.public)||void 0===g||null===(D=g.output)||void 0===D?void 0:D.jsonData),U(!1)}catch(A){console.error("Error fetching products:",A),U(!1)}};return(0,u.jsx)(u.Fragment,{children:y?(0,u.jsx)("div",{children:"dong"}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(o.Ay,{className:"my-form",formData:r,validator:c.Ay,schema:l,uiSchema:i,onSubmit:async r=>{let{formData:a}=r;const e=[t.currentUser.id,null===a||void 0===a?void 0:a.products];try{await t.currentUser.callFunction("updateCart",...e),j()}catch(o){const t=o.error,r=t.charAt(0).toUpperCase()+t.slice(1);alert(r)}},onChange:async r=>{let{formData:a}=r;const e=[t.currentUser.id,null===a||void 0===a?void 0:a.products];try{await t.currentUser.callFunction("updateCart",...e),console.log(a.products)}catch(o){const t=o.error,r=t.charAt(0).toUpperCase()+t.slice(1);alert(r)}}}),0===v.totalValue?(0,u.jsx)(u.Fragment,{}):(0,u.jsx)(o.Ay,{className:"my-form",validator:c.Ay,schema:m,uiSchema:f,formData:v,onSubmit:async()=>{const r=await t.currentUser.refreshCustomData(),a=[t.currentUser.customData,r.cart];try{await t.currentUser.callFunction("ToTempCart",...a),j()}catch(e){const t=e.error,r=t.charAt(0).toUpperCase()+t.slice(1);alert(r)}}})]})})}}}]);
//# sourceMappingURL=477.c5f58ebd.chunk.js.map