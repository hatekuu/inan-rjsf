{"version":3,"file":"static/js/243.782f447b.chunk.js","mappings":"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","sources":["components/ArrayFieldTemplate.js","components/Modal.js","routers/cart.js"],"sourcesContent":["import React, { useState,useEffect } from 'react';\r\nimport * as Realm from 'realm-web';\r\n\r\nconst ArrayFieldTemplate = (props) => {\r\n  const app = new Realm.App({ id: process.env.REACT_APP_KEY });\r\n\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [search, setSearch] = useState('');\r\n  const [suggestions, setSuggestions] = useState([]);\r\n  const [showSuggestions, setShowSuggestions] = useState(false);\r\n useEffect(()=>{\r\n setShowModal(props.showModal2)\r\n  \r\n },[props])\r\n\r\n  const handleRemoveItem = (index) => () => {\r\n\r\n    props.items[index].onDropIndexClick(index)();\r\n   props.handleRemove()\r\n  };\r\n\r\n \r\n\r\n  const handleChange = async (e) => {\r\n\r\n    const FunctionName = 'autoComplete';\r\n    setSearch(e.target.value);\r\n    if (e.target.value !== \"\") {\r\n      const result = await app?.currentUser?.callFunction(FunctionName, e.target.value);\r\n      setSuggestions(result);\r\n      setShowSuggestions(true);\r\n    } else {\r\n      setSuggestions([]);\r\n      setShowSuggestions(false);\r\n    }\r\n  };\r\n\r\n  const handleSuggestionClick = async (name) => {\r\n\r\n    setShowSuggestions(false)\r\n    setSearch(name)\r\n  };\r\n\r\n \r\n  return (\r\n    <div>\r\n      <div>\r\n        {props.items.map((element, index) => (\r\n          <div key={index}>\r\n            <div className=\"flex-grow\">{element.children}</div>\r\n            <button\r\n              type=\"button\"\r\n              className=\"ml-2 px-2 py-1 bg-red-500 text-white rounded\"\r\n              onClick={handleRemoveItem(index)}\r\n            >\r\n              Xóa sản phẩm\r\n            </button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      {props.canAdd && (\r\n        <button\r\n          type=\"button\"\r\n          className=\"mt-4 px-4 py-2 bg-blue-500 text-white rounded\"\r\n          onClick={() => setShowModal(true)}\r\n        >\r\n          Thêm sản phẩm\r\n        </button>\r\n      )}\r\n      {showModal && (\r\n       \r\n        <div className=\"fixed top-0 left-0 w-full h-full flex items-center justify-center bg-gray-800 bg-opacity-75\">\r\n          <div className=\"bg-white p-4 border rounded shadow-lg\">\r\n            <div className=\"mb-4\">\r\n              <label className=\"block text-gray-700 text-sm font-bold mb-2\">\r\n                Search:\r\n              </label>\r\n              <input\r\n                className=\"w-full px-3 py-2 border rounded border-gray-300 focus:outline-none focus:border-indigo-500\"\r\n                type=\"text\"\r\n                value={search}\r\n                onChange={handleChange}\r\n              />\r\n              {showSuggestions && suggestions?.length > 0 && (\r\n                <div className=\"absolute bg-white border rounded shadow-lg mt-1 w-auto\">\r\n                  <ul>\r\n                    {suggestions?.map((suggestion, index) => (\r\n                      <li key={index} className=\" px-4 py-2 hover:bg-gray-100 cursor-pointer\" onClick={() => handleSuggestionClick(suggestion?.productName)}>\r\n                        {suggestion?.productName}\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <button className=\"mt-4 px-4 py-2 bg-blue-500 text-white rounded\" onClick={() => { props.handleClick(search); setSearch('');} }> thêm</button>\r\n            <button className=\"mt-4 px-4 py-2 bg-blue-500 text-white rounded\" onClick={() => setShowModal(false)}>Đóng</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ArrayFieldTemplate;\r\n","import React from 'react';\r\nimport './Modal.css'; // Style file for the modal\r\n\r\nconst Modal = ({ isOpen, onClose, message,array}) => {\r\n\r\n  if (!isOpen) return null;\r\n if(array===1)return(\r\n    <div className=\"modal-overlay\" onClick={onClose}>\r\n    <div className=\"modal-content\" onClick={e => e.stopPropagation()}>\r\n      <div className=\"close-wrapper\">\r\n        <button className=\"close-button\" onClick={onClose}>X</button>\r\n      </div>\r\n      {message?.map((message,index)=>(\r\n        <div key={index}>\r\n            {message}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  </div>)\r\n return(\r\n  <div className=\"modal-overlay\" onClick={onClose}>\r\n  <div className=\"modal-content\" onClick={e => e.stopPropagation()}>\r\n    <div className=\"close-wrapper\">\r\n      <button className=\"close-button\" onClick={onClose}>X</button>\r\n    </div>\r\n\r\n  <p>{message}</p>\r\n          \r\n    \r\n\r\n  </div>\r\n</div>\r\n )\r\n}\r\n\r\nexport default Modal;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Form from \"@rjsf/core\";\r\nimport './Myform.css'; // Import file CSS\r\nimport  validator from '@rjsf/validator-ajv8';\r\nimport * as Realm from 'realm-web';\r\nimport ArrayFieldTemplate from '../components/ArrayFieldTemplate';\r\nimport Modal from '../components/Modal';\r\nconst MyForm = () => {\r\n    const app = new Realm.App({ id: process.env.REACT_APP_KEY });\r\n    const [products, setProducts] = useState([]);\r\n    const [showModal,setShowModal]=useState(false)\r\n    const [jsonSchema, setjsonSchema] = useState([]);\r\n    const [uiSchema, setuiSchema] = useState([]);\r\n    const [price, setPrice]= useState([])\r\n    const [jsonSchema2 ,setjsonSchema2] = useState([]);\r\n    const [uiSchema2, setuiSchema2] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [btloading, setBtLoading] = useState(false);\r\n    const [isOpen2, setIsOpen2] = useState(false);\r\n    const [message2, setMessage2] = useState([]);\r\n    const [val, setVal] = useState(null);\r\n    const navigate = useNavigate();\r\n\r\n    const fetchData = async () => {\r\n        try {\r\n            if (!app?.currentUser?.accessToken) {\r\n                navigate('/inan-rjsf/login');\r\n            } else {\r\n                await app?.currentUser?.refreshAccessToken();\r\n                const functionName = \"form\";\r\n                const findCart = await app?.currentUser?.callFunction(functionName);\r\n                console.log(findCart[0]?.public?.input?.jsonData?.products?.length)\r\n             \r\n                setProducts(findCart[0]?.public?.input?.jsonData);\r\n                setjsonSchema(findCart[0]?.public?.input?.jsonSchema);\r\n                setuiSchema(findCart[0]?.public?.input?.uiSchema);\r\n                setjsonSchema2(findCart[0]?.public?.output?.jsonSchema);\r\n                setuiSchema2(findCart[0]?.public?.output?.uiSchema);\r\n                setPrice(findCart[0]?.public?.output?.jsonData);\r\n                setLoading(false);\r\n            }\r\n        } catch (error) {\r\n            console.error('Error fetching products:', error);\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect( () => {\r\n      \r\n        fetchData()\r\n    },[]); // Add dependencies\r\n\r\n  const onSubmit = async ({ formData }) => {\r\n//     const functionName = \"updateCart\";\r\n//     const args = [app?.currentUser?.id, formData?.products];\r\n  \r\n//     try {\r\n//      const result= await app.currentUser?.callFunction(functionName, ...args);\r\n//      if(result?.message){\r\n     \r\n//       setIsOpen2(true);\r\n//       setMessage2(result?.message)\r\n//       setVal(1)\r\n//      }\r\n     \r\n//      fetchData();\r\n      \r\n//     } catch (error) {\r\n//       const errorMessage = error.error;\r\n//       setIsOpen2(true);\r\n//  setMessage2(errorMessage)\r\n//     }\r\n\r\nfetchData()\r\n\r\n  };\r\n  const onChange = async ({ formData }) => {\r\n\r\n  \r\n       const functionName = \"updateCart\";\r\n       try {\r\n         const args = [app?.currentUser?.id, formData?.products];\r\n          await app?.currentUser?.callFunction(functionName, ...args);\r\n     \r\n       } catch (error) {\r\n         console.log(error);\r\n         \r\n       }\r\n     \r\n  };\r\n  const handleClick = async (search) => {\r\n    const FunctionName = 'AddToCart';\r\n    const args=[search,app?.currentUser?.id]\r\n    setBtLoading(true)\r\n    fetchData()\r\n    if (search !== \"\") {\r\n    try {\r\n     const result=  await app?.currentUser?.callFunction(FunctionName,...args);\r\n  \r\n       setIsOpen2(true)\r\n       setMessage2(result?.message)\r\n       setVal(0)\r\n     setShowModal(false);\r\n     \r\n    \r\n    } catch (error) {\r\n      console.log(error)\r\n    }finally{setBtLoading(false)}\r\n    }\r\n  };\r\n\r\n  // const handleClick = async () => {\r\n  //   console.log(\"add\")\r\n  \r\n  //  fetchData()\r\n  //   setLeng(leng+1)\r\n  // }\r\n  const handleRemove = async () => {\r\n    console.log(\"remove\")\r\n      // fetchData()\r\n  };\r\n  const onSubmit2 = async () => {\r\n    const user = await app.currentUser.refreshCustomData();\r\n    const functionName = \"ToTempCart\";\r\n    const args = [app?.currentUser?.customData, user?.cart];\r\n    \r\n    try {\r\n      const result=await app?.currentUser?.callFunction(functionName, ...args);\r\n      setIsOpen2(true);\r\n      setMessage2(result?.message)\r\n      setVal(0)\r\n  \r\n      fetchData();\r\n    } catch (error) {\r\n \r\n      alert(error.error);\r\n      setMessage2(error.error)\r\n      setIsOpen2(true)\r\n    }\r\n  };\r\n\r\n\r\n\r\n  const closeModal = () => {\r\n    setIsOpen2(false);\r\n  };\r\n  return (\r\n    <>\r\n    {loading ? (\r\n      <div className=\"flex items-center justify-center h-screen\">\r\n        <div className=\"text-gray-600 text-lg\">Loading...</div>\r\n      </div>\r\n    ) : (\r\n      <>\r\n        <div className=\"flex justify-center\">\r\n        {products &&(\r\n          <>\r\n          <Form\r\n            className=\"w-full max-w-md p-8 bg-white rounded-lg shadow-lg\"\r\n            formData={products}\r\n            validator={validator}\r\n            schema={jsonSchema}\r\n            uiSchema={uiSchema}\r\n            onSubmit={onSubmit}\r\n            onChange={onChange}\r\n            templates={{\r\n              ArrayFieldTemplate: (props) => (\r\n                <ArrayFieldTemplate\r\n           \r\n                showModal2={showModal}\r\n                \r\n                  {...props}\r\n                handleClick={(search) =>handleClick(search)}\r\n                isLoading={btloading}\r\n                  // onReorderClick={(oldIndex, newIndex) => console.log('Reordering item:', oldIndex, newIndex)}\r\n                 handleRemove={handleRemove}\r\n                /> \r\n              ),\r\n            }}\r\n          /> </>)}\r\n        \r\n        </div>\r\n  \r\n        {price?.totalValue !== 0 && (\r\n          <div className=\"flex justify-center mt-8\">\r\n            <Form\r\n              className=\"w-full max-w-md p-8 bg-white rounded-lg shadow-lg\"\r\n              validator={validator}\r\n              schema={jsonSchema2}\r\n              uiSchema={uiSchema2}\r\n              formData={price}\r\n              onSubmit={onSubmit2}\r\n            />\r\n          </div>\r\n        )}\r\n      </>\r\n    )}\r\n     <div>\r\n     \r\n     <Modal isOpen={isOpen2} onClose={closeModal} message={message2} array={val} />\r\n      \r\n\r\n    </div>\r\n  </>\r\n  \r\n  );\r\n      };  \r\n\r\n\r\nexport default MyForm;\r\n"],"names":["props","app","Realm","id","process","showModal","setShowModal","useState","search","setSearch","suggestions","setSuggestions","showSuggestions","setShowSuggestions","useEffect","showModal2","handleRemoveItem","index","items","onDropIndexClick","handleRemove","_jsxs","children","_jsx","map","element","className","type","onClick","canAdd","value","onChange","async","e","target","_app$currentUser","result","currentUser","callFunction","length","suggestion","name","handleSuggestionClick","productName","handleClick","_ref","isOpen","onClose","message","array","stopPropagation","MyForm","products","setProducts","jsonSchema","setjsonSchema","uiSchema","setuiSchema","price","setPrice","jsonSchema2","setjsonSchema2","uiSchema2","setuiSchema2","loading","setLoading","btloading","setBtLoading","isOpen2","setIsOpen2","message2","setMessage2","val","setVal","navigate","useNavigate","fetchData","accessToken","_app$currentUser2","_app$currentUser3","_findCart$","_findCart$$public","_findCart$$public$inp","_findCart$$public$inp2","_findCart$$public$inp3","_findCart$2","_findCart$2$public","_findCart$2$public$in","_findCart$3","_findCart$3$public","_findCart$3$public$in","_findCart$4","_findCart$4$public","_findCart$4$public$in","_findCart$5","_findCart$5$public","_findCart$5$public$ou","_findCart$6","_findCart$6$public","_findCart$6$public$ou","_findCart$7","_findCart$7$public","_findCart$7$public$ou","refreshAccessToken","functionName","findCart","console","log","public","input","jsonData","output","error","_Fragment","Form","formData","validator","schema","onSubmit","_ref2","_app$currentUser4","_app$currentUser5","args","templates","ArrayFieldTemplate","_app$currentUser6","_app$currentUser7","isLoading","totalValue","_app$currentUser8","user","refreshCustomData","customData","cart","_app$currentUser9","alert","Modal","closeModal"],"sourceRoot":""}