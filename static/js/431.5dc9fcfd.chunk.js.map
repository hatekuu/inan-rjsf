{"version":3,"file":"static/js/431.5dc9fcfd.chunk.js","mappings":"yIAEA,MAqDA,EArDcA,IAA0C,IAAzC,OAAEC,EAAM,QAAEC,EAAO,QAAEC,EAAO,MAAEC,GAAOJ,EAChD,MAAOK,EAAWC,IAAgBC,EAAAA,EAAAA,UAASN,IAE3CO,EAAAA,EAAAA,YAAU,KACRF,EAAaL,EAAO,GACnB,CAACA,IAUJ,OACEQ,EAAAA,EAAAA,MAAA,OACEC,UAAS,wFAAAC,OACPN,EAAY,cAAgB,iCAC3BO,SAAA,EAEHC,EAAAA,EAAAA,KAAA,OAAKH,UAAU,gEACfD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wHAAuHE,SAAA,EACpIC,EAAAA,EAAAA,KAAA,OAAKH,UAAU,6BAA4BE,UACzCC,EAAAA,EAAAA,KAAA,UACEH,UAAU,oCACVI,QAnBUC,KAClBT,GAAa,GACbJ,IACc,IAAVE,GACFY,OAAOC,SAASC,QAAO,EACzB,EAc6BN,UAErBC,EAAAA,EAAAA,KAAA,OACEH,UAAU,uBACVS,QAAQ,YACRC,MAAM,6BAA4BR,UAElCC,EAAAA,EAAAA,KAAA,QAAMQ,EAAE,gNAIdR,EAAAA,EAAAA,KAAA,OAAKH,UAAU,MAAKE,SACjBU,MAAMC,QAAQpB,GACbA,EAAQqB,KAAI,CAACC,EAAKC,KAChBb,EAAAA,EAAAA,KAAA,OAAiBH,UAAU,OAAME,SAC9Ba,GADOC,MAKZb,EAAAA,EAAAA,KAAA,KAAAD,SAAIT,WAIN,C,6GChDV,MAsGA,EAtG4BwB,IAC1B,MAAMC,EAAM,IAAIC,EAAAA,GAAU,CAAEC,GAAIC,kCAEzBC,EAAWC,IAAgB1B,EAAAA,EAAAA,WAAS,IACpC2B,EAAQC,IAAa5B,EAAAA,EAAAA,UAAS,KAC9B6B,EAAaC,IAAkB9B,EAAAA,EAAAA,UAAS,KACxC+B,EAAiBC,IAAsBhC,EAAAA,EAAAA,WAAS,IACxDC,EAAAA,EAAAA,YAAU,KACVyB,EAAaN,EAAMa,WAAW,GAE5B,CAACb,IAEF,MAAMc,EAAoBf,GAAU,KAElCC,EAAMe,MAAMhB,GAAOiB,iBAAiBjB,EAApCC,GACDA,EAAMiB,cAAc,EA0BrB,OACEnC,EAAAA,EAAAA,MAAA,OAAAG,SAAA,EACEC,EAAAA,EAAAA,KAAA,OAAAD,SACGe,EAAMe,MAAMlB,KAAI,CAACqB,EAASnB,KACzBjB,EAAAA,EAAAA,MAAA,OAAAG,SAAA,EACEC,EAAAA,EAAAA,KAAA,OAAKH,UAAU,YAAWE,SAAEiC,EAAQjC,YACpCC,EAAAA,EAAAA,KAAA,UACEiC,KAAK,SACLpC,UAAU,+CACVI,QAAS2B,EAAiBf,GAAOd,SAClC,gCANOc,OAYbC,EAAMoB,SACLlC,EAAAA,EAAAA,KAAA,UACEiC,KAAK,SACLpC,UAAU,gDACVI,QAASA,IAAMmB,GAAa,GAAMrB,SACnC,+BAIFoB,IAECnB,EAAAA,EAAAA,KAAA,OAAKH,UAAU,8FAA6FE,UAC1GH,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wCAAuCE,SAAA,EACpDH,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAME,SAAA,EACnBC,EAAAA,EAAAA,KAAA,SAAOH,UAAU,6CAA4CE,SAAC,aAG9DC,EAAAA,EAAAA,KAAA,SACEH,UAAU,6FACVoC,KAAK,OACLE,MAAOd,EACPe,SA1DOC,UAInB,GADAf,EAAUgB,EAAEC,OAAOJ,OACI,KAAnBG,EAAEC,OAAOJ,MAAc,CAAC,IAADK,EACzB,MAAMC,QAAkB,OAAH1B,QAAG,IAAHA,GAAgB,QAAbyB,EAAHzB,EAAK2B,mBAAW,IAAAF,OAAb,EAAHA,EAAkBG,aAHpB,eAG+CL,EAAEC,OAAOJ,QAC3EX,EAAeiB,GACff,GAAmB,EACrB,MACEF,EAAe,IACfE,GAAmB,EACrB,IAiDWD,IAA8B,OAAXF,QAAW,IAAXA,OAAW,EAAXA,EAAaqB,QAAS,IACxC5C,EAAAA,EAAAA,KAAA,OAAKH,UAAU,yDAAwDE,UACrEC,EAAAA,EAAAA,KAAA,MAAAD,SACc,OAAXwB,QAAW,IAAXA,OAAW,EAAXA,EAAaZ,KAAI,CAACkC,EAAYhC,KAC7Bb,EAAAA,EAAAA,KAAA,MAAgBH,UAAU,8CAA8CI,QAASA,IAlDvEoC,WAE5BX,GAAmB,GACnBJ,EAAUwB,EAAK,EA+C0FC,CAAgC,OAAVF,QAAU,IAAVA,OAAU,EAAVA,EAAYG,aAAajD,SACzH,OAAV8C,QAAU,IAAVA,OAAU,EAAVA,EAAYG,aADNnC,aAQnBb,EAAAA,EAAAA,KAAA,UAAQH,UAAU,gDAAgDI,QAASA,KAAQa,EAAMmC,YAAY5B,GAASC,EAAU,GAAG,EAAIvB,SAAC,cAChIC,EAAAA,EAAAA,KAAA,UAAQH,UAAU,gDAAgDI,QAASA,IAAMmB,GAAa,GAAOrB,SAAC,wBAKxG,E,YC7FV,MA8NA,EA9NemD,KACX,MAAMnC,EAAM,IAAIC,EAAAA,GAAU,CAAEC,GAAIC,kCACzBiC,EAAUC,IAAe1D,EAAAA,EAAAA,UAAS,KAClCyB,EAAUC,IAAc1B,EAAAA,EAAAA,WAAS,IACjC2D,EAAYC,IAAiB5D,EAAAA,EAAAA,UAAS,KACtC6D,EAAUC,IAAe9D,EAAAA,EAAAA,UAAS,KAClC+D,EAAOC,IAAWhE,EAAAA,EAAAA,UAAS,KAC3BiE,EAAaC,IAAkBlE,EAAAA,EAAAA,UAAS,KACxCmE,EAAWC,IAAgBpE,EAAAA,EAAAA,UAAS,KACpCqE,EAASC,IAActE,EAAAA,EAAAA,WAAS,IAChCuE,EAAWC,IAAgBxE,EAAAA,EAAAA,WAAS,IACrC2B,EAAOC,IAAW5B,EAAAA,EAAAA,UAAS,KAC1ByE,EAASC,IAAc1E,EAAAA,EAAAA,WAAS,IAChC2E,EAAUC,IAAe5E,EAAAA,EAAAA,UAAS,KAClC6E,EAAKC,IAAU9E,EAAAA,EAAAA,UAAS,MACzB+E,GAAWC,EAAAA,EAAAA,MAMXC,EAAYtC,UAEkB,IAADG,GAD7BzB,EAAI2B,YAAYkC,aAAcH,EAAS,oBACvC1D,EAAI2B,YAAYkC,oBAAuB,OAAH7D,QAAG,IAAHA,GAAgB,QAAbyB,EAAHzB,EAAK2B,mBAAW,IAAAF,OAAb,EAAHA,EAAkBqC,sBACxD,IAAK,IAADC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,QAEa,OAAHlF,QAAG,IAAHA,GAAgB,QAAb+D,EAAH/D,EAAK2B,mBAAW,IAAAoC,OAAb,EAAHA,EAAkBD,sBACxB,MAAMqB,EAAe,OACfC,QAAoB,OAAHpF,QAAG,IAAHA,GAAgB,QAAbgE,EAAHhE,EAAK2B,mBAAW,IAAAqC,OAAb,EAAHA,EAAkBpC,aAAauD,IAGtD9C,EAAuB,QAAZ4B,EAACmB,EAAS,UAAE,IAAAnB,GAAQ,QAARC,EAAXD,EAAaoB,cAAM,IAAAnB,GAAO,QAAPC,EAAnBD,EAAqBoB,aAAK,IAAAnB,OAAf,EAAXA,EAA4BoB,UACxChD,EAAyB,QAAZ6B,EAACgB,EAAS,UAAE,IAAAhB,GAAQ,QAARC,EAAXD,EAAaiB,cAAM,IAAAhB,GAAO,QAAPC,EAAnBD,EAAqBiB,aAAK,IAAAhB,OAAf,EAAXA,EAA4BhC,YAC1CG,EAAuB,QAAZ8B,EAACa,EAAS,UAAE,IAAAb,GAAQ,QAARC,EAAXD,EAAac,cAAM,IAAAb,GAAO,QAAPC,EAAnBD,EAAqBc,aAAK,IAAAb,OAAf,EAAXA,EAA4BjC,UACxCK,EAA0B,QAAZ6B,EAACU,EAAS,UAAE,IAAAV,GAAQ,QAARC,EAAXD,EAAaW,cAAM,IAAAV,GAAQ,QAARC,EAAnBD,EAAqBa,cAAM,IAAAZ,OAAhB,EAAXA,EAA6BtC,YAC5CS,EAAwB,QAAZ8B,EAACO,EAAS,UAAE,IAAAP,GAAQ,QAARC,EAAXD,EAAaQ,cAAM,IAAAP,GAAQ,QAARC,EAAnBD,EAAqBU,cAAM,IAAAT,OAAhB,EAAXA,EAA6BvC,UAC1CG,EAAoB,QAAZqC,EAACI,EAAS,UAAE,IAAAJ,GAAQ,QAARC,EAAXD,EAAaK,cAAM,IAAAJ,GAAQ,QAARC,EAAnBD,EAAqBO,cAAM,IAAAN,OAAhB,EAAXA,EAA6BK,UACtCtC,GAAW,EAEnB,CAAE,MAAOwC,GACLC,QAAQD,MAAM,2BAA4BA,GAC1CxC,GAAW,EACf,IAGJrE,EAAAA,EAAAA,YAAW,KAEPgF,GAAW,GACb,IAEJ,MA6EM5C,EAAeM,UACnBoE,QAAQC,IAAI,SAAS,EA+BvB,OACE9G,EAAAA,EAAAA,MAAA+G,EAAAA,SAAA,CAAA5G,SAAA,CACCgE,GACC/D,EAAAA,EAAAA,KAAA,OAAKH,UAAU,4CAA2CE,UACxDC,EAAAA,EAAAA,KAAA,OAAKH,UAAU,wBAAuBE,SAAC,kBAGzCH,EAAAA,EAAAA,MAAA+G,EAAAA,SAAA,CAAA5G,SAAA,EACEC,EAAAA,EAAAA,KAAA,OAAKH,UAAU,sBAAqBE,SACnCoD,GAAWE,GAAcE,IACxB3D,EAAAA,EAAAA,MAAA+G,EAAAA,SAAA,CAAA5G,SAAA,EACAC,EAAAA,EAAAA,KAAC4G,EAAAA,GAAI,CACH/G,UAAU,oDACVgH,SAAU1D,EACV2D,UAAWA,EAAAA,GACXC,OAAQ1D,EACRE,SAAUA,EACVyD,SA9HO3E,UAAyB,IAAD4E,EAAA,IAAjB,SAAEJ,GAAU1H,EAoBtC,MACM+H,EAAK,CAAC7F,EAAU,OAAHN,QAAG,IAAHA,GAAgB,QAAbkG,EAAHlG,EAAK2B,mBAAW,IAAAuE,OAAb,EAAHA,EAAkBhG,IAGrC,GAAe,KAAXI,EACJ,IAAK,IAAD8F,EACH,MAAM1E,QAAkB,OAAH1B,QAAG,IAAHA,GAAgB,QAAboG,EAAHpG,EAAK2B,mBAAW,IAAAyE,OAAb,EAAHA,EAAkBxE,aANnB,eAMgDuE,IACrEvC,IACGP,GAAW,GACXE,EAAkB,OAAN7B,QAAM,IAANA,OAAM,EAANA,EAAQnD,SACpBkF,EAAO,GACTpD,GAAa,GACbE,EAAU,GAEX,CAAE,MAAOkF,GACPC,QAAQC,IAAIF,EACd,MAKE7B,GACF,EAqFYvC,SAjFOC,UAAyB,IAAlB,SAAEwE,GAAUO,EAI/B,IAAK,IAADC,EAAAC,EACF,MAAMJ,EAAO,CAAI,OAAHnG,QAAG,IAAHA,GAAgB,QAAbsG,EAAHtG,EAAK2B,mBAAW,IAAA2E,OAAb,EAAHA,EAAkBpG,GAAY,OAAR4F,QAAQ,IAARA,OAAQ,EAARA,EAAU1D,UACxCoE,QAAmB,OAAHxG,QAAG,IAAHA,GAAgB,QAAbuG,EAAHvG,EAAK2B,mBAAW,IAAA4E,OAAb,EAAHA,EAAkB3E,aAHrB,gBAGmDuE,KAC3D,OAARK,QAAQ,IAARA,OAAQ,EAARA,EAAUjI,QAAQsD,QAAO,IAE3B+B,IACAL,EAAYiD,EAASjI,SACrB8E,GAAW,GACXI,EAAO,GAGV,CAAE,MAAOgC,GACPC,QAAQC,IAAIF,EAEd,GAgEKgB,UAAW,CACTC,mBAAqB3G,IACnBd,EAAAA,EAAAA,KAACyH,EAAkB,CAEnB9F,WAAYR,KAENL,EACNmC,YAAc5B,GApERgB,WACnBf,EAAUD,EAAO,EAmEoB4B,CAAY5B,GACpCqG,UAAWzD,EAEVlC,aAAcA,OAInB,SAImB,KAAjB,OAAL0B,QAAK,IAALA,OAAK,EAALA,EAAOkE,cACN3H,EAAAA,EAAAA,KAAA,OAAKH,UAAU,2BAA0BE,UACvCC,EAAAA,EAAAA,KAAC4G,EAAAA,GAAI,CACH/G,UAAU,oDACViH,UAAWA,EAAAA,GACXC,OAAQpD,EACRJ,SAAUM,EACVgD,SAAUpD,EACVuD,SAzEM3E,UAAa,IAADuF,EAC5B,MAAMC,QAAa9G,EAAI2B,YAAYoF,oBAE7BZ,EAAO,CAAI,OAAHnG,QAAG,IAAHA,GAAgB,QAAb6G,EAAH7G,EAAK2B,mBAAW,IAAAkF,OAAb,EAAHA,EAAkBG,WAAgB,OAAJF,QAAI,IAAJA,OAAI,EAAJA,EAAMG,MAElD,IAAK,IAADC,EACF,MAAMxF,QAAgB,OAAH1B,QAAG,IAAHA,GAAgB,QAAbkH,EAAHlH,EAAK2B,mBAAW,IAAAuF,OAAb,EAAHA,EAAkBtF,aAJlB,gBAIgDuE,IACnE9C,GAAW,GACXE,EAAkB,OAAN7B,QAAM,IAANA,OAAM,EAANA,EAAQnD,SACpBkF,EAAO,GACPG,GAEF,CAAE,MAAO6B,GAEP0B,MAAM1B,EAAMA,OACZlC,EAAYkC,EAAMA,OAClBpC,GAAW,EAEb,WA6DCpE,EAAAA,EAAAA,KAAA,OAAAD,UAEAC,EAAAA,EAAAA,KAACmI,EAAAA,EAAK,CAAC/I,OAAQ+E,EAAS9E,QA1DR+I,KAEjBhE,GAAW,EAAM,EAwD6B9E,QAAS+E,EAAU9E,MAAOgF,QAIvE,C","sources":["components/Modal.js","components/ArrayFieldTemplate.js","routers/cart.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nconst Modal = ({ isOpen, onClose, message, array }) => {\r\n  const [isVisible, setIsVisible] = useState(isOpen);\r\n\r\n  useEffect(() => {\r\n    setIsVisible(isOpen);\r\n  }, [isOpen]);\r\n\r\n  const handleClose = () => {\r\n    setIsVisible(false);\r\n    onClose();\r\n    if (array === 1) {\r\n      window.location.reload(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`fixed inset-0 z-50 flex items-center justify-center overflow-auto transition-opacity ${\r\n        isVisible ? 'opacity-100' : 'opacity-0 pointer-events-none'\r\n      }`}\r\n    >\r\n      <div className=\"fixed inset-0 bg-gray-800 bg-opacity-50 transition-opacity\"></div>\r\n      <div className=\"relative w-full max-w-md p-6 mx-auto bg-white rounded shadow-lg border border-gray-300 transition-transform transform\">\r\n        <div className=\"absolute top-0 right-0 p-2\">\r\n          <button\r\n            className=\"text-gray-600 hover:text-gray-800\"\r\n            onClick={handleClose}\r\n          >\r\n            <svg\r\n              className=\"w-6 h-6 fill-current\"\r\n              viewBox=\"0 0 24 24\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n            >\r\n              <path d=\"M6.293 6.293a1 1 0 011.414 0L12 10.586l4.293-4.293a1 1 0 111.414 1.414L13.414 12l4.293 4.293a1 1 0 01-1.414 1.414L12 13.414l-4.293 4.293a1 1 0 01-1.414-1.414L10.586 12 6.293 7.707a1 1 0 010-1.414z\"></path>\r\n            </svg>\r\n          </button>\r\n        </div>\r\n        <div className=\"p-4\">\r\n          {Array.isArray(message) ? (\r\n            message.map((msg, index) => (\r\n              <div key={index} className=\"mb-2\">\r\n                {msg}\r\n              </div>\r\n            ))\r\n          ) : (\r\n            <p>{message}</p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import React, { useState,useEffect } from 'react';\r\nimport * as Realm from 'realm-web';\r\n\r\nconst ArrayFieldTemplate = (props) => {\r\n  const app = new Realm.App({ id: process.env.REACT_APP_KEY });\r\n\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [search, setSearch] = useState('');\r\n  const [suggestions, setSuggestions] = useState([]);\r\n  const [showSuggestions, setShowSuggestions] = useState(false);\r\n useEffect(()=>{\r\n setShowModal(props.showModal2)\r\n  \r\n },[props])\r\n\r\n  const handleRemoveItem = (index) => () => {\r\n\r\n    props.items[index].onDropIndexClick(index)();\r\n   props.handleRemove()\r\n  };\r\n\r\n \r\n\r\n  const handleChange = async (e) => {\r\n\r\n    const FunctionName = 'autoComplete';\r\n    setSearch(e.target.value);\r\n    if (e.target.value !== \"\") {\r\n      const result = await app?.currentUser?.callFunction(FunctionName, e.target.value);\r\n      setSuggestions(result);\r\n      setShowSuggestions(true);\r\n    } else {\r\n      setSuggestions([]);\r\n      setShowSuggestions(false);\r\n    }\r\n  };\r\n\r\n  const handleSuggestionClick = async (name) => {\r\n\r\n    setShowSuggestions(false)\r\n    setSearch(name)\r\n  };\r\n\r\n \r\n  return (\r\n    <div>\r\n      <div>\r\n        {props.items.map((element, index) => (\r\n          <div key={index}>\r\n            <div className=\"flex-grow\">{element.children}</div>\r\n            <button\r\n              type=\"button\"\r\n              className=\"ml-2 px-2 py-1 bg-red-500 text-white rounded\"\r\n              onClick={handleRemoveItem(index)}\r\n            >\r\n              Xóa sản phẩm\r\n            </button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      {props.canAdd && (\r\n        <button\r\n          type=\"button\"\r\n          className=\"mt-4 px-4 py-2 bg-blue-500 text-white rounded\"\r\n          onClick={() => setShowModal(true)}\r\n        >\r\n          Thêm sản phẩm\r\n        </button>\r\n      )}\r\n      {showModal && (\r\n       \r\n        <div className=\"fixed top-0 left-0 w-full h-full flex items-center justify-center bg-gray-800 bg-opacity-75\">\r\n          <div className=\"bg-white p-4 border rounded shadow-lg\">\r\n            <div className=\"mb-4\">\r\n              <label className=\"block text-gray-700 text-sm font-bold mb-2\">\r\n                Search:\r\n              </label>\r\n              <input\r\n                className=\"w-full px-3 py-2 border rounded border-gray-300 focus:outline-none focus:border-indigo-500\"\r\n                type=\"text\"\r\n                value={search}\r\n                onChange={handleChange}\r\n              />\r\n              {showSuggestions && suggestions?.length > 0 && (\r\n                <div className=\"absolute bg-white border rounded shadow-lg mt-1 w-auto\">\r\n                  <ul>\r\n                    {suggestions?.map((suggestion, index) => (\r\n                      <li key={index} className=\" px-4 py-2 hover:bg-gray-100 cursor-pointer\" onClick={() => handleSuggestionClick(suggestion?.productName)}>\r\n                        {suggestion?.productName}\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <button className=\"mt-4 px-4 py-2 bg-blue-500 text-white rounded\" onClick={() => { props.handleClick(search); setSearch('');} }> thêm</button>\r\n            <button className=\"mt-4 px-4 py-2 bg-blue-500 text-white rounded\" onClick={() => setShowModal(false)}>Đóng</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ArrayFieldTemplate;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Form from \"@rjsf/core\";\r\nimport './Myform.css'; // Import file CSS\r\nimport  validator from '@rjsf/validator-ajv8';\r\nimport * as Realm from 'realm-web';\r\nimport ArrayFieldTemplate from '../components/ArrayFieldTemplate';\r\nimport Modal from '../components/Modal';\r\nconst MyForm = () => {\r\n    const app = new Realm.App({ id: process.env.REACT_APP_KEY });\r\n    const [products, setProducts] = useState([]);\r\n    const [showModal,setShowModal]=useState(false)\r\n    const [jsonSchema, setjsonSchema] = useState([]);\r\n    const [uiSchema, setuiSchema] = useState([]);\r\n    const [price, setPrice]= useState([])\r\n    const [jsonSchema2 ,setjsonSchema2] = useState([]);\r\n    const [uiSchema2, setuiSchema2] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [btloading, setBtLoading] = useState(false);\r\n    const[search,setSearch]=useState('')\r\n    const [isOpen2, setIsOpen2] = useState(false);\r\n    const [message2, setMessage2] = useState([]);\r\n    const [val, setVal] = useState(null);\r\n    const navigate = useNavigate();\r\n\r\n \r\n\r\n\r\n\r\n    const fetchData = async () => {\r\n      if(!app.currentUser.accessToken) {navigate('/inan-rjsf/login');}\r\n      if (app.currentUser.accessToken) {await app?.currentUser?.refreshAccessToken();}\r\n        try {\r\n           \r\n                await app?.currentUser?.refreshAccessToken();\r\n                const functionName = \"form\";\r\n                const findCart = await app?.currentUser?.callFunction(functionName);\r\n            \r\n             \r\n                setProducts(findCart[0]?.public?.input?.jsonData);\r\n                setjsonSchema(findCart[0]?.public?.input?.jsonSchema);\r\n                setuiSchema(findCart[0]?.public?.input?.uiSchema);\r\n                setjsonSchema2(findCart[0]?.public?.output?.jsonSchema);\r\n                setuiSchema2(findCart[0]?.public?.output?.uiSchema);\r\n                setPrice(findCart[0]?.public?.output?.jsonData);\r\n                setLoading(false);\r\n            \r\n        } catch (error) {\r\n            console.error('Error fetching products:', error);\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect( () => {\r\n      \r\n        fetchData()\r\n    },[]); // Add dependencies\r\n\r\n  const onSubmit = async ({ formData }) => {\r\n//     const functionName = \"updateCart\";\r\n//     const args = [app?.currentUser?.id, formData?.products];\r\n  \r\n//     try {\r\n//      const result= await app.currentUser?.callFunction(functionName, ...args);\r\n//      if(result?.message){\r\n     \r\n//       setIsOpen2(true);\r\n//       setMessage2(result?.message)\r\n//       setVal(1)\r\n//      }\r\n     \r\n//      fetchData();\r\n      \r\n//     } catch (error) {\r\n//       const errorMessage = error.error;\r\n//       setIsOpen2(true);\r\n//  setMessage2(errorMessage)\r\n//     }\r\nconst FunctionName = 'AddToCart';\r\nconst args=[search,app?.currentUser?.id]\r\n\r\n\r\nif (search !== \"\") {\r\ntry {\r\n const result=  await app?.currentUser?.callFunction(FunctionName,...args);\r\nfetchData()\r\n   setIsOpen2(true)\r\n   setMessage2(result?.message)\r\n   setVal(0)\r\n setShowModal(false);\r\n setSearch('')\r\n\r\n} catch (error) {\r\n  console.log(error)\r\n}\r\n}else{\r\n  \r\n\r\n \r\n  fetchData()\r\n}\r\n          \r\n\r\n  };\r\n  const onChange = async ({ formData }) => {\r\n\r\n  \r\n       const functionName = \"updateCart\";\r\n       try {\r\n         const args = [app?.currentUser?.id, formData?.products];\r\n         const response= await app?.currentUser?.callFunction(functionName, ...args);\r\n         if(response?.message.length>0){\r\n         \r\n          fetchData()\r\n          setMessage2(response.message)\r\n          setIsOpen2(true)\r\n          setVal(1)\r\n         \r\n        }\r\n       } catch (error) {\r\n         console.log(error);\r\n         \r\n       }\r\n     \r\n  };\r\n  const handleClick = async (search) => {\r\n   setSearch(search)\r\n  };\r\n\r\n  // const handleClick = async () => {\r\n  //   console.log(\"add\")\r\n  \r\n  //  fetchData()\r\n  //   setLeng(leng+1)\r\n  // }\r\n  const handleRemove = async () => {\r\n    console.log(\"remove\")\r\n      // fetchData()\r\n  };\r\n  const onSubmit2 = async () => {\r\n    const user = await app.currentUser.refreshCustomData();\r\n    const functionName = \"ToTempCart\";\r\n    const args = [app?.currentUser?.customData, user?.cart];\r\n    \r\n    try {\r\n      const result=await app?.currentUser?.callFunction(functionName, ...args);\r\n      setIsOpen2(true);\r\n      setMessage2(result?.message)\r\n      setVal(0)\r\n      fetchData();\r\n  \r\n    } catch (error) {\r\n \r\n      alert(error.error);\r\n      setMessage2(error.error)\r\n      setIsOpen2(true)\r\n    \r\n    }\r\n  };\r\n\r\n\r\n\r\n  const closeModal = () => {\r\n  \r\n    setIsOpen2(false);\r\n\r\n  };\r\n  return (\r\n    <>\r\n    {loading ? (\r\n      <div className=\"flex items-center justify-center h-screen\">\r\n        <div className=\"text-gray-600 text-lg\">Loading...</div>\r\n      </div>\r\n    ) : (\r\n      <>\r\n        <div className=\"flex justify-center\">\r\n        {products &&jsonSchema && uiSchema &&(\r\n          <>\r\n          <Form\r\n            className=\"w-full max-w-md p-8 bg-white rounded-lg shadow-lg\"\r\n            formData={products}\r\n            validator={validator}\r\n            schema={jsonSchema}\r\n            uiSchema={uiSchema}\r\n            onSubmit={onSubmit}\r\n            onChange={onChange}\r\n            templates={{\r\n              ArrayFieldTemplate: (props) => (\r\n                <ArrayFieldTemplate\r\n           \r\n                showModal2={showModal}\r\n                \r\n                  {...props}\r\n                handleClick={(search) =>handleClick(search)}\r\n                isLoading={btloading}\r\n                  // onReorderClick={(oldIndex, newIndex) => console.log('Reordering item:', oldIndex, newIndex)}\r\n                 handleRemove={handleRemove}\r\n                /> \r\n              ),\r\n            }}\r\n          /> </>)}\r\n        \r\n        </div>\r\n  \r\n        {price?.totalValue !== 0 && (\r\n          <div className=\"flex justify-center mt-8\">\r\n            <Form\r\n              className=\"w-full max-w-md p-8 bg-white rounded-lg shadow-lg\"\r\n              validator={validator}\r\n              schema={jsonSchema2}\r\n              uiSchema={uiSchema2}\r\n              formData={price}\r\n              onSubmit={onSubmit2}\r\n            />\r\n          </div>\r\n        )}\r\n      </>\r\n    )}\r\n     <div>\r\n     \r\n     <Modal isOpen={isOpen2} onClose={closeModal} message={message2} array={val} />\r\n      \r\n\r\n    </div>\r\n  </>\r\n  \r\n  );\r\n      };  \r\n\r\n\r\nexport default MyForm;\r\n"],"names":["_ref","isOpen","onClose","message","array","isVisible","setIsVisible","useState","useEffect","_jsxs","className","concat","children","_jsx","onClick","handleClose","window","location","reload","viewBox","xmlns","d","Array","isArray","map","msg","index","props","app","Realm","id","process","showModal","setShowModal","search","setSearch","suggestions","setSuggestions","showSuggestions","setShowSuggestions","showModal2","handleRemoveItem","items","onDropIndexClick","handleRemove","element","type","canAdd","value","onChange","async","e","target","_app$currentUser","result","currentUser","callFunction","length","suggestion","name","handleSuggestionClick","productName","handleClick","MyForm","products","setProducts","jsonSchema","setjsonSchema","uiSchema","setuiSchema","price","setPrice","jsonSchema2","setjsonSchema2","uiSchema2","setuiSchema2","loading","setLoading","btloading","setBtLoading","isOpen2","setIsOpen2","message2","setMessage2","val","setVal","navigate","useNavigate","fetchData","accessToken","refreshAccessToken","_app$currentUser2","_app$currentUser3","_findCart$","_findCart$$public","_findCart$$public$inp","_findCart$2","_findCart$2$public","_findCart$2$public$in","_findCart$3","_findCart$3$public","_findCart$3$public$in","_findCart$4","_findCart$4$public","_findCart$4$public$ou","_findCart$5","_findCart$5$public","_findCart$5$public$ou","_findCart$6","_findCart$6$public","_findCart$6$public$ou","functionName","findCart","public","input","jsonData","output","error","console","log","_Fragment","Form","formData","validator","schema","onSubmit","_app$currentUser4","args","_app$currentUser5","_ref2","_app$currentUser6","_app$currentUser7","response","templates","ArrayFieldTemplate","isLoading","totalValue","_app$currentUser8","user","refreshCustomData","customData","cart","_app$currentUser9","alert","Modal","closeModal"],"sourceRoot":""}